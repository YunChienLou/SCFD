{"version":3,"sources":["webpack:///./src/components/ManageUnit.vue","webpack:///./src/components/ManageUnit.vue?26f4"],"names":["class","type","data-bs-toggle","data-bs-target","scope","id","data-bs-backdrop","data-bs-keyboard","tabindex","aria-labelledby","aria-hidden","data-bs-dismiss","aria-label","novalidate","selected","users","user","index","key","name","rank","emtlevel","getUserData","deleUser","placeholder","create","required","email","pattern","passwords","disabled","passwordVerifie","value","addUser","aria-describedby","nameInput","rankInput","emtInput","editUser","setup","targetUserId","data","render"],"mappings":"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","file":"js/chunk-2d20f6cb.d099f177.js","sourcesContent":["<template>\n  <div class=\"d-flex justify-content-between align-items-center\">\n    <div class=\"h1 mt-3\">管理分隊成員</div>\n    <div class=\"mt-3 me-4\">\n      <button\n        type=\"button\"\n        class=\"btn btn-primary\"\n        data-bs-toggle=\"modal\"\n        data-bs-target=\"#staticBackdrop2\"\n      >\n        + 新增成員\n      </button>\n    </div>\n  </div>\n  <table class=\"table table-dark table-striped\">\n    <thead>\n      <tr>\n        <th scope=\"col\">No.</th>\n        <th scope=\"col\">姓名</th>\n        <th scope=\"col\">級職</th>\n        <th scope=\"col\">emt</th>\n        <th scope=\"col\">編輯</th>\n      </tr>\n    </thead>\n    <tbody>\n      <tr v-for=\"(user, index) in users\" :key=\"user.id\">\n        <th scope=\"row\">{{ index + 1 }}</th>\n        <td>{{ user.name }}</td>\n        <td>{{ user.rank }}</td>\n        <td>{{ user.emtlevel }}</td>\n        <td>\n          <!-- Button trigger modal -->\n          <button\n            type=\"button\"\n            class=\"btn btn-secondary\"\n            data-bs-toggle=\"modal\"\n            data-bs-target=\"#editUserModal\"\n            @click=\"getUserData(user.id)\"\n          >\n            修改\n          </button>\n          <button\n            type=\"button\"\n            class=\"btn btn-danger\"\n            @click=\"deleUser(user.id)\"\n          >\n            刪除\n          </button>\n        </td>\n      </tr>\n    </tbody>\n  </table>\n  <!-- Modal -->\n  <div\n    class=\"modal fade\"\n    id=\"staticBackdrop2\"\n    data-bs-backdrop=\"static\"\n    data-bs-keyboard=\"false\"\n    tabindex=\"-1\"\n    aria-labelledby=\"staticBackdropLabel\"\n    aria-hidden=\"true\"\n  >\n    <div class=\"modal-dialog modal-dialog-centered\">\n      <div class=\"modal-content text-dark\">\n        <div class=\"modal-header\">\n          <h2 class=\"modal-title fw-bold\" id=\"staticBackdropLabel\">新增成員</h2>\n          <button\n            type=\"button\"\n            class=\"btn-close\"\n            data-bs-dismiss=\"modal\"\n            aria-label=\"Close\"\n          ></button>\n        </div>\n        <div class=\"modal-body\">\n          <form class=\"needs-validation\" novalidate>\n            <div class=\"mb-3\">\n              <label class=\"form-label\">姓名</label>\n              <input\n                type=\"text\"\n                class=\"form-control\"\n                placeholder=\"請輸入 姓名 ..\"\n                id=\"create.3\"\n                v-model=\"create.name\"\n                required\n              />\n            </div>\n            <div class=\"mb-3\">\n              <label class=\"form-label\">E-mail</label>\n              <input\n                type=\"text\"\n                class=\"form-control\"\n                id=\"create\"\n                placeholder=\"請輸入 email ..\"\n                v-model=\"create.email\"\n                pattern=\"[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$\"\n                required\n              />\n              <div class=\"valid-feedback feedback-pos\">Looks good!</div>\n              <div class=\"invalid-feedback feedback-pos\">\n                Please input valid email ID\n              </div>\n            </div>\n            <div class=\"mb-3\">\n              <label class=\"form-label\">密碼</label>\n              <input\n                type=\"password\"\n                class=\"form-control\"\n                placeholder=\"請輸入 密碼 ..\"\n                id=\"create2\"\n                v-model=\"create.passwords\"\n                required\n              />\n            </div>\n            <div class=\"mb-3\">\n              <label class=\"form-label\">請再輸入一次密碼</label>\n              <input\n                type=\"password\"\n                class=\"form-control\"\n                id=\"create.\"\n                v-model=\"create.passwords\"\n                required\n              />\n            </div>\n            <div class=\"mb-3\">\n              <label class=\"form-label\">級職</label>\n              <input\n                type=\"text\"\n                class=\"form-control\"\n                id=\"exampleInputPassword1\"\n                v-model=\"create.rank\"\n                placeholder=\"請輸入 級職 ..\"\n                required\n              />\n            </div>\n            <div class=\"mb-3\">\n              <label class=\"form-label\">EMT</label>\n              <select\n                class=\"form-select\"\n                aria-label=\"Default select example\"\n                v-model=\"create.emtlevel\"\n                required\n              >\n                <option selected>請選擇</option>\n                <option>T1</option>\n                <option>T2</option>\n                <option>TP</option>\n              </select>\n            </div>\n          </form>\n        </div>\n        <div class=\"modal-footer\">\n          <button\n            type=\"button\"\n            class=\"btn btn-secondary\"\n            data-bs-dismiss=\"modal\"\n          >\n            關閉\n          </button>\n          <button\n            type=\"button\"\n            class=\"btn btn-primary\"\n            data-bs-dismiss=\"modal\"\n            :disabled=\"create.passwords == '' || passwordVerifie.value == false\"\n            @click=\"addUser()\"\n          >\n            新增\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n  <!-- Modal1 -->\n  <div\n    class=\"modal fade editUserModal\"\n    id=\"editUserModal\"\n    tabindex=\"-1\"\n    aria-labelledby=\"exampleModalLabel\"\n    aria-hidden=\"true\"\n  >\n    <div class=\"modal-dialog modal-dialog-centered\">\n      <div class=\"modal-content text-dark\">\n        <div class=\"modal-header\">\n          <h2 class=\"modal-title fw-bold\" id=\"exampleModalLabel\">修改資料</h2>\n          <button\n            type=\"button\"\n            class=\"btn-close\"\n            data-bs-dismiss=\"modal\"\n            aria-label=\"Close\"\n          ></button>\n        </div>\n        <div class=\"modal-body\">\n          <form>\n            <div class=\"mb-3\">\n              <label class=\"form-label\">姓名</label>\n              <input\n                type=\"text\"\n                class=\"form-control\"\n                id=\"nameInput\"\n                aria-describedby=\"輸入姓名\"\n                v-model=\"nameInput\"\n                required\n              />\n            </div>\n            <div class=\"mb-3\">\n              <label class=\"form-label\">級職</label>\n              <input\n                type=\"text\"\n                class=\"form-control\"\n                id=\"exampleInputPassword2\"\n                v-model=\"rankInput\"\n                required\n              />\n            </div>\n            <div class=\"mb-3\">\n              <label class=\"form-label\">EMT</label>\n              <select\n                class=\"form-select\"\n                aria-label=\"Default select example\"\n                v-model=\"emtInput\"\n                required\n              >\n                <option selected>請選擇</option>\n                <option>T1</option>\n                <option>T2</option>\n                <option>TP</option>\n              </select>\n            </div>\n          </form>\n        </div>\n        <div class=\"modal-footer\">\n          <button\n            type=\"button\"\n            class=\"btn btn-secondary\"\n            data-bs-dismiss=\"modal\"\n          >\n            關閉\n          </button>\n          <button\n            type=\"button\"\n            class=\"btn btn-primary\"\n            @click=\"editUser()\"\n            data-bs-dismiss=\"modal\"\n          >\n            儲存修改\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport {\n  useLoadUsers,\n  deleteUser,\n  updateUser,\n  getUser,\n  createUser,\n} from \"@/firebase\";\nimport { reactive, ref } from \"@vue/reactivity\";\nexport default {\n  setup() {\n    const users = useLoadUsers();\n    const nameInput = ref();\n    const targetUserId = ref();\n    const rankInput = ref();\n    const emtInput = ref();\n\n    const passwordVerifie = ref(false);\n    const create = reactive({\n      name: \"\",\n      email: \"\",\n      passwords: \"\",\n      emtlevel: \"\",\n      rank: \"\",\n    });\n\n    const getUserData = async (id) => {\n      let data = await getUser(id);\n      nameInput.value = data.name;\n      rankInput.value = data.rank;\n      emtInput.value = data.emtlevel;\n      targetUserId.value = id;\n    };\n    const addUser = async () => {\n      await createUser(create);\n      create.name = \"\";\n      create.email = \"\";\n      create.passwords = \"\";\n      create.emtlevel = \"\";\n      create.rank = \"\";\n    };\n    const editUser = () => {\n      let user = {\n        name: nameInput.value,\n        rank: rankInput.value,\n        emtlevel: emtInput.value,\n      };\n      updateUser(targetUserId.value, user);\n    };\n    const deleUser = (id) => {\n      deleteUser(id);\n    };\n    return {\n      users,\n      create,\n      nameInput,\n      rankInput,\n      emtInput,\n      targetUserId,\n      passwordVerifie,\n      getUserData,\n      editUser,\n      deleUser,\n      addUser,\n    };\n  },\n};\n</script>\n\n<style></style>\n","import { render } from \"./ManageUnit.vue?vue&type=template&id=b003a512\"\nimport script from \"./ManageUnit.vue?vue&type=script&lang=js\"\nexport * from \"./ManageUnit.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script"],"sourceRoot":""}
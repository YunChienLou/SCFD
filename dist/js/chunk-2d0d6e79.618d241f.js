(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0d6e79"],{7516:function(e,t,a){"use strict";a.r(t);a("b0c0");var n=a("7a23"),c=Object(n["g"])("div",{class:"d-flex justify-content-between align-items-center"},[Object(n["g"])("div",{class:"h1 mt-3"},"管理警消成員"),Object(n["g"])("div",{class:"mt-3 me-4"},[Object(n["g"])("button",{type:"button",class:"btn btn-primary","data-bs-toggle":"modal","data-bs-target":"#staticBackdrop2"}," + 新增警消 ")])],-1),l={key:0,class:"text-center mt-5 text-white"},o=Object(n["g"])("div",{class:"h1 text-center"},"資料處理中 .....",-1),s=Object(n["g"])("div",{class:"spinner-border text-primary",style:{width:"5rem",height:"5rem"},role:"status"},[Object(n["g"])("span",{class:"visually-hidden"},"Loading...")],-1),r=[o,s],d={key:1,class:"table table-dark table-striped"},i=Object(n["g"])("thead",null,[Object(n["g"])("tr",null,[Object(n["g"])("th",{scope:"col"},"No."),Object(n["g"])("th",{scope:"col"},"姓名"),Object(n["g"])("th",{class:"text-center me-3",scope:"col"},"編輯")])],-1),b={scope:"row"},u={class:"text-end"},g=["onClick"],m=["onClick"],O={class:"modal fade",id:"staticBackdrop2","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},j={class:"modal-dialog modal-dialog-centered"},f={class:"modal-content text-dark"},v=Object(n["g"])("div",{class:"modal-header"},[Object(n["g"])("h2",{class:"modal-title fw-bold",id:"staticBackdropLabel"},"新增成員"),Object(n["g"])("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),p={class:"modal-body"},h={class:"needs-validation",novalidate:""},y={class:"mb-3"},k=Object(n["g"])("label",{class:"form-label"},"姓名",-1),x={class:"modal-footer"},w=Object(n["g"])("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"}," 關閉 ",-1),U=["disabled"],I={class:"modal fade editUserModal",id:"editUserModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},L={class:"modal-dialog modal-dialog-centered"},C={class:"modal-content text-dark"},M=Object(n["g"])("div",{class:"modal-header"},[Object(n["g"])("h2",{class:"modal-title fw-bold",id:"exampleModalLabel"},"修改資料"),Object(n["g"])("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),F={class:"modal-body"},V={class:"mb-3"},B=Object(n["g"])("label",{class:"form-label"},"姓名",-1),D={class:"modal-footer"},J=Object(n["g"])("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"}," 關閉 ",-1);function R(e,t,a,o,s,R){return Object(n["u"])(),Object(n["f"])(n["a"],null,[c,o.isLoading?(Object(n["u"])(),Object(n["f"])("div",l,r)):(Object(n["u"])(),Object(n["f"])("table",d,[i,Object(n["g"])("tbody",null,[(Object(n["u"])(!0),Object(n["f"])(n["a"],null,Object(n["A"])(o.firefighters,(function(e,t){return Object(n["u"])(),Object(n["f"])("tr",{key:e.id},[Object(n["g"])("th",b,Object(n["D"])(t+1),1),Object(n["g"])("td",null,Object(n["D"])(e.name),1),Object(n["g"])("td",u,[Object(n["g"])("button",{type:"button",class:"btn btn-secondary me-1","data-bs-toggle":"modal","data-bs-target":"#editUserModal",onClick:function(e){return o.getUserData(t)}}," 修改 ",8,g),Object(n["g"])("button",{type:"button",class:"btn btn-danger me-3",onClick:function(t){return o.deleUser(e.id)}}," 刪除 ",8,m)])])})),128))])])),Object(n["g"])("div",O,[Object(n["g"])("div",j,[Object(n["g"])("div",f,[v,Object(n["g"])("div",p,[Object(n["g"])("form",h,[Object(n["g"])("div",y,[k,Object(n["L"])(Object(n["g"])("input",{type:"text",class:"form-control",placeholder:"請輸入 姓名 ..",id:"create.3","onUpdate:modelValue":t[0]||(t[0]=function(e){return o.create.name=e}),required:""},null,512),[[n["I"],o.create.name]])])])]),Object(n["g"])("div",x,[w,Object(n["g"])("button",{type:"button",class:"btn btn-primary","data-bs-dismiss":"modal",disabled:""==o.create.name,onClick:t[1]||(t[1]=function(e){return o.addUser()})}," 新增 ",8,U)])])])]),Object(n["g"])("div",I,[Object(n["g"])("div",L,[Object(n["g"])("div",C,[M,Object(n["g"])("div",F,[Object(n["g"])("form",null,[Object(n["g"])("div",V,[B,Object(n["L"])(Object(n["g"])("input",{type:"text",class:"form-control",id:"nameInput","aria-describedby":"輸入姓名","onUpdate:modelValue":t[2]||(t[2]=function(e){return o.nameInput=e}),required:""},null,512),[[n["I"],o.nameInput]])])])]),Object(n["g"])("div",D,[J,Object(n["g"])("button",{type:"button",class:"btn btn-primary",onClick:t[3]||(t[3]=function(e){return o.editUser()}),"data-bs-dismiss":"modal"}," 儲存修改 ")])])])])],64)}var N=a("1da1"),q=(a("96cf"),a("5c40")),A=a("a1e9"),S=a("5502"),z=a("f2f4"),G={setup:function(){var e=Object(S["b"])(),t=Object(q["t"])("$FirefighterAPI"),a=Object(A["m"])([]),n=Object(A["m"])(!1),c=Object(q["e"])((function(){return e.state.unit})),l=Object(q["e"])((function(){return e.state.token})),o=function(){return e.dispatch("verify")},s=Object(A["m"])(""),r=Object(A["m"])(""),d=Object(A["m"])(!1),i=Object(A["l"])({name:""}),b=function(){console.log("start execute afterGetUnit"),n.value=!0;var e=c.value,o=z["a"][e],s={data:{token:l.value,unit:o}};t.getFirefighters(s,l.value).then((function(e){a.value=e.data.result.data,n.value=!1})).catch((function(e){u(e)}))},u=function(){n.value=!1},g=function(){var e=Object(N["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=JSON.parse(JSON.stringify(a.value))[t],console.log(n,t),s.value=n.name,r.value=n.id;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=Object(N["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n.value=!0,a={data:{name:i.name,unit:z["a"][c.value],token:l.value}},console.log(a.data),t.createFirefighter(a,l.value).then((function(e){console.log(e),b()})).catch((function(e){console.log(e),u(e)}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),O=function(){n.value=!0;var e={data:{name:s.value,token:l.value,unit:z["a"][c.value],userId:r.value}};console.log(e.data,"update data"),t.updateFirefighter(e,l.value).then((function(e){console.log(e),b()})).catch((function(e){console.log(e),u(e)}))},j=function(e){n.value=!0;var a={data:{uid:e,unit:z["a"][c.value],token:l.value}};t.deleteFirefighter(a,l.value).then((function(e){console.log(e),b()})).catch((function(e){console.log(e),u(e)}))};return o(),Object(q["z"])((function(){console.log("onMounted"),null==c.value&&null==l.value||b()})),{store:e,create:i,isLoading:n,nameInput:s,targetUserId:r,passwordVerifie:d,firefighters:a,unitVuex:c,tokenVuex:l,getUserData:g,editUser:O,deleUser:j,addUser:m}}};G.render=R;t["default"]=G}}]);
//# sourceMappingURL=chunk-2d0d6e79.618d241f.js.map
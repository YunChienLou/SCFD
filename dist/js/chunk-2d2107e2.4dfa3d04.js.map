{"version":3,"sources":["webpack:///./src/views/OpenNewUnit.vue","webpack:///./src/views/OpenNewUnit.vue?6ccf"],"names":["class","type","data-bs-toggle","aria-expanded","style","scope","unitCh","disabled","unitEng","createAdmin","admins","admin","index","key","email","metadata","lastSignInTime","creationTime","setup","store","$AdminAPI","tokenVuex","state","token","verifyVuex","dispatch","getAdmins","data","value","then","res","result","console","log","render"],"mappings":"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","file":"js/chunk-2d2107e2.4dfa3d04.js","sourcesContent":["<template>\n  <div class=\"d-flex justify-content-between align-items-center my-3\">\n    <div class=\"h1 mb-0\">管理員編組</div>\n    <div class=\"\">\n      {{ unitCh }}\n      <button\n        class=\"btn btn-outline-secondary dropdown-toggle\"\n        type=\"button\"\n        data-bs-toggle=\"dropdown\"\n        aria-expanded=\"false\"\n      >\n        分隊\n      </button>\n\n      <ul class=\"dropdown-menu\">\n        <li\n          class=\"text-center bg-dark text-white fs-4 py-3\"\n          @click=\"\n            () => {\n              unitCh = '淡水';\n              unitEng = 'TamSui';\n            }\n          \"\n        >\n          淡水\n        </li>\n        <li\n          class=\"text-center bg-dark text-white fs-4 py-3\"\n          @click=\"\n            () => {\n              unitCh = '鷺江';\n              unitEng = 'LuJiang';\n            }\n          \"\n        >\n          鷺江\n        </li>\n        <li\n          class=\"text-center bg-dark text-white fs-4 py-3\"\n          @click=\"\n            () => {\n              unitCh = '二重';\n              unitEng = 'ErChong';\n            }\n          \"\n        >\n          二重\n        </li>\n        <li\n          class=\"text-center bg-dark text-white fs-4 py-3\"\n          @click=\"\n            () => {\n              unitCh = '龍源';\n              unitEng = 'LongYuan';\n            }\n          \"\n        >\n          龍源\n        </li>\n        <li\n          class=\"text-center bg-dark text-white fs-4 py-3\"\n          @click=\"\n            () => {\n              unitCh = '竹圍';\n              unitEng = 'ZuWei';\n            }\n          \"\n        >\n          竹圍\n        </li>\n        <li\n          class=\"text-center bg-dark text-white fs-4 py-3\"\n          @click=\"\n            () => {\n              unitCh = '蘆洲';\n              unitEng = 'LuZhou';\n            }\n          \"\n        >\n          蘆洲\n        </li>\n        <li\n          class=\"text-center bg-dark text-white fs-4 py-3\"\n          @click=\"\n            () => {\n              unitCh = '三芝';\n              unitEng = 'SanZhi';\n            }\n          \"\n        >\n          三芝\n        </li>\n        <li\n          class=\"text-center bg-dark text-white fs-4 py-3\"\n          @click=\"\n            () => {\n              unitCh = '滬尾';\n              unitEng = 'HuWei';\n            }\n          \"\n        >\n          滬尾\n        </li>\n      </ul>\n    </div>\n    <div class=\"\">\n      <button\n        type=\"button\"\n        :disabled=\"unitCh == '' || unitEng == ''\"\n        class=\"btn btn-primary\"\n        @click=\"createAdmin()\"\n      >\n        + 新增分隊\n      </button>\n    </div>\n  </div>\n  <div class=\"table-responsive\">\n    <table class=\"table text-white table-responsive\" style=\"width: 150%\">\n      <thead>\n        <tr>\n          <th scope=\"col\">#</th>\n          <th scope=\"col\">Email</th>\n          <th scope=\"col\">Last Sign In</th>\n          <th scope=\"col\">Create Time</th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr v-for=\"(admin, index) in admins\" :key=\"admin.email\">\n          <th>{{ index + 1 }}</th>\n          <td>{{ admin.email }}</td>\n          <td>{{ admin.metadata.lastSignInTime }}</td>\n          <td>{{ admin.metadata.creationTime }}</td>\n        </tr>\n      </tbody>\n    </table>\n  </div>\n</template>\n\n<script>\nimport { ref } from \"@vue/reactivity\";\nimport { computed, inject, onMounted, watch } from \"@vue/runtime-core\";\nimport { useStore } from \"vuex\";\nexport default {\n  setup() {\n    const store = useStore();\n    const admins = ref([]);\n    const $AdminAPI = inject(\"$AdminAPI\");\n    const unitCh = ref(\"\");\n    const unitEng = ref(\"\");\n    const tokenVuex = computed(() => {\n      return store.state.token;\n    });\n    const verifyVuex = async () => {\n      await store.dispatch(\"verify\");\n    };\n    const getAdmins = () => {\n      let data = {\n        data: {\n          token: tokenVuex.value,\n        },\n      };\n      $AdminAPI.getAdmins(data, tokenVuex.value).then((res) => {\n        admins.value = res.data.result.data;\n      });\n    };\n    const createAdmin = () => {\n      let data = {\n        data: {\n          token: tokenVuex.value,\n          unitCh: unitCh.value,\n          unitEng: unitEng.value,\n        },\n      };\n      console.log(data.data, tokenVuex.value);\n      $AdminAPI.createAdmin(data, tokenVuex.value).then((res) => {\n        admins.value = res.data.result.data;\n        console.log(res);\n      });\n    };\n    watch(tokenVuex, getAdmins);\n    onMounted(() => {\n      verifyVuex();\n      getAdmins();\n    });\n    return { admins, createAdmin, unitCh, unitEng };\n  },\n};\n</script>\n\n<style></style>\n","import { render } from \"./OpenNewUnit.vue?vue&type=template&id=50a2118a\"\nimport script from \"./OpenNewUnit.vue?vue&type=script&lang=js\"\nexport * from \"./OpenNewUnit.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script"],"sourceRoot":""}